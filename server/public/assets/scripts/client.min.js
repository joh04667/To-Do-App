/*! todo 2016-04-25 */
var app=angular.module("ToDoApp",[]);app.controller("MainController",["$scope","$http",function(a,b){a.taskList=[],a.completedTaskList=[],a.newTask="",a.errorShow=!1;var c=function(a,b){return a.sort(function(a,c){return a[b]<c[b]?-1:a[b]>c[b]?1:0})};a.getTasks=function(){b.get("/tasks").then(function(b){c(b.data,"id"),a.taskList=b.data.filter(function(a){return!a.task_complete}),a.completedTaskList=b.data.filter(function(a){return a.task_complete}),console.log(a.taskList,"h",a.completedTaskList)})},a.submit=function(){a.newTask?(a.errorShow=!1,b.post("/tasks/new",{task_name:a.newTask}).then(function(b){console.log("posted",a.newTask),a.newTask=null,a.getTasks()})):a.errorShow=!0},a.getTasks()}]),app.controller("TaskController",["$scope","$http",function(a,b){a.complete=function(c){b.put("/tasks/update/"+c.id).then(function(b){a.$parent.getTasks(),console.log("update response",b)})},a["delete"]=function(c){b["delete"]("/tasks/delete/"+c.id).then(function(b){a.$parent.getTasks()})}}]);